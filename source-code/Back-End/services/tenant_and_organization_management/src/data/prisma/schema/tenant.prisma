// tenant.prisma
model Tenant {
    // Basic fields
    id Int @id @default(autoincrement()) // Unique ID for each tenant

    // Required Tenant details
    name           String // Name of the tenant (organization)
    locationId    Int // Address of the tenant's organization
    subscriptonId Int // Enum to track subscription type

    // Optional Tenant details
    email  String? @unique // The primary email of the tenant (organization)
    phone  String? @unique // The primary phone number of the tenant (organization)
    domain String? @unique // Tenant's website (optional)

    // Metadata fields for auditing and soft deletion
    createdAt DateTime @default(now()) // Timestamp for when the tenant was created
    updatedAt DateTime @updatedAt // Automatically updated when the tenant is updated

    // Relationships
    location        Location         @relation(fields: [locationId], references: [id])
    subscription    Subscription     @relation(fields: [subscriptonId], references: [id])
    payments        Payment[]
    tenantDivisions TenantDivision[]
}

model TenantDivision {
    id         Int @id @default(autoincrement())
    tenantId   Int
    divisionId Int

    // Metadata fields for auditing and soft deletion
    createdAt DateTime @default(now()) // Timestamp for when the tenant was created
    updatedAt DateTime @updatedAt // Automatically updated when the tenant is updated

    // relation 
    tenant   Tenant   @relation(fields: [tenantId], references: [id])
    division Division @relation(fields: [divisionId], references: [id])
}
