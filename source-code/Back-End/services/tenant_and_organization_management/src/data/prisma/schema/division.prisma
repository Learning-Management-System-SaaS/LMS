model Division {
    id              Int     @id @default(autoincrement()) // Unique ID for each division
    tenantDivisionId        Int     // Tenant ID for multi-tenancy
    parentId       Int // Nullable to represent root divisions
    locationId     Int
    name            String // Name of the division
    divisionTypeId Int
    description     String? // Description of the division

    createdAt DateTime @default(now()) // Timestamp for when the division was created
    updatedAt DateTime @updatedAt // Automatically updated when the division is updated

    // Relations
    // An optional self-relation where a Division can have a parent Division.
    parent          Division?        @relation("DivisionHierarchy", fields: [parentId], references: [id])
    // An array of Division objects representing all the child divisions under a parent Division.
    children        Division[]       @relation("DivisionHierarchy")
    location        Location         @relation(fields: [locationId], references: [id])
    divisionType    DivisionType     @relation(fields: [divisionTypeId], references: [id])
    tenantDivisions TenantDivision[] 

    //@@unique([id, tenantId])
}

model DivisionType {
    id   Int    @id @default(autoincrement())
    name String

    createdAt DateTime   @default(now()) // Timestamp for when the division was created
    updatedAt DateTime   @updatedAt // Automatically updated when the division is updated
    Division  Division[]
}
